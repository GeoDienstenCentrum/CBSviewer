<?xml version="1.0" encoding="UTF-8"?>
<pmd-cpd>
   <duplication lines="38" tokens="349">
      <file line="90"
            path="E:\workspace\CBSviewer\src\main\java\nl\mineleni\openls\parser\OpenLSGeocodeResponseParser.java"/>
      <file line="86"
            path="E:\workspace\CBSviewer\src\main\java\nl\mineleni\openls\parser\OpenLSReverseGeocodeResponseParser.java"/>
      <codefragment><![CDATA[				((GeocodedAddress) (this.objStack.peek())).setAddress(address);
			}
			break;
		case "streetaddress":
			final StreetAddress streetaddress = (StreetAddress) (this.objStack
					.pop());
			if (this.objStack.peek().getClass() == Address.class) {
				((Address) (this.objStack.peek()))
				.setStreetAddress(streetaddress);
			}
			break;
		case "building":
			final Building building = (Building) (this.objStack.pop());
			if (this.objStack.peek().getClass() == StreetAddress.class) {
				((StreetAddress) (this.objStack.peek())).setBuilding(building);
			}
			break;
		case "street":
			final Street street = (Street) (this.objStack.pop());
			street.setStreet(this.eValBuf.toString());
			if (this.objStack.peek().getClass() == StreetAddress.class) {
				((StreetAddress) (this.objStack.peek())).setStreet(street);
			}
			break;
		case "place":
			final Place place = (Place) (this.objStack.pop());
			place.setPlace(this.eValBuf.toString());
			if (this.objStack.peek().getClass() == Address.class) {
				((Address) (this.objStack.peek())).addPlace(place);
			}
			break;
		case "postalcode":
			final PostalCode pc = (PostalCode) (this.objStack.pop());
			pc.setPostalCode(this.eValBuf.toString());
			if (this.objStack.peek().getClass() == Address.class) {
				((Address) (this.objStack.peek())).setPostalCode(pc);
			}
			break;]]></codefragment>
   </duplication>
   <duplication lines="49" tokens="342">
      <file line="57"
            path="E:\workspace\CBSviewer\src\main\java\nl\mineleni\openls\parser\OpenLSGeocodeRequestParser.java"/>
      <file line="90"
            path="E:\workspace\CBSviewer\src\main\java\nl\mineleni\openls\parser\OpenLSGeocodeResponseParser.java"/>
      <codefragment><![CDATA[				((GeocodeRequest) (this.objStack.peek())).addAddress(address);
			}
			break;
		case "streetaddress":
			final StreetAddress streetaddress = (StreetAddress) (this.objStack
			        .pop());
			if (this.objStack.peek().getClass() == Address.class) {
				((Address) (this.objStack.peek()))
				        .setStreetAddress(streetaddress);
			}
			break;
		case "building":
			final Building building = (Building) (this.objStack.pop());
			if (this.objStack.peek().getClass() == StreetAddress.class) {
				((StreetAddress) (this.objStack.peek())).setBuilding(building);
			}
			break;
		case "street":
			final Street street = (Street) (this.objStack.pop());
			street.setStreet(this.eValBuf.toString());
			if (this.objStack.peek().getClass() == StreetAddress.class) {
				((StreetAddress) (this.objStack.peek())).setStreet(street);
			}
			break;
		case "place":
			final Place place = (Place) (this.objStack.pop());
			place.setPlace(this.eValBuf.toString());
			if (this.objStack.peek().getClass() == Address.class) {
				((Address) (this.objStack.peek())).addPlace(place);
			}
			break;
		case "postalcode":
			final PostalCode pc = (PostalCode) (this.objStack.pop());
			pc.setPostalCode(this.eValBuf.toString());
			if (this.objStack.peek().getClass() == Address.class) {
				((Address) (this.objStack.peek())).setPostalCode(pc);
			}
			break;
		default:
			return;
		}
	}

	/**
	 * Gets the geocode request.
	 *
	 * @return the geocode request
	 */
	public GeocodeRequest getGeocodeRequest() {]]></codefragment>
   </duplication>
   <duplication lines="38" tokens="336">
      <file line="57"
            path="E:\workspace\CBSviewer\src\main\java\nl\mineleni\openls\parser\OpenLSGeocodeRequestParser.java"/>
      <file line="87"
            path="E:\workspace\CBSviewer\src\main\java\nl\mineleni\openls\parser\OpenLSReverseGeocodeResponseParser.java"/>
      <codefragment><![CDATA[				((GeocodeRequest) (this.objStack.peek())).addAddress(address);
			}
			break;
		case "streetaddress":
			final StreetAddress streetaddress = (StreetAddress) (this.objStack
			        .pop());
			if (this.objStack.peek().getClass() == Address.class) {
				((Address) (this.objStack.peek()))
				        .setStreetAddress(streetaddress);
			}
			break;
		case "building":
			final Building building = (Building) (this.objStack.pop());
			if (this.objStack.peek().getClass() == StreetAddress.class) {
				((StreetAddress) (this.objStack.peek())).setBuilding(building);
			}
			break;
		case "street":
			final Street street = (Street) (this.objStack.pop());
			street.setStreet(this.eValBuf.toString());
			if (this.objStack.peek().getClass() == StreetAddress.class) {
				((StreetAddress) (this.objStack.peek())).setStreet(street);
			}
			break;
		case "place":
			final Place place = (Place) (this.objStack.pop());
			place.setPlace(this.eValBuf.toString());
			if (this.objStack.peek().getClass() == Address.class) {
				((Address) (this.objStack.peek())).addPlace(place);
			}
			break;
		case "postalcode":
			final PostalCode pc = (PostalCode) (this.objStack.pop());
			pc.setPostalCode(this.eValBuf.toString());
			if (this.objStack.peek().getClass() == Address.class) {
				((Address) (this.objStack.peek())).setPostalCode(pc);
			}
			break;]]></codefragment>
   </duplication>
   <duplication lines="49" tokens="277">
      <file line="151"
            path="E:\workspace\CBSviewer\src\main\java\nl\mineleni\openls\parser\OpenLSGeocodeRequestParser.java"/>
      <file line="222"
            path="E:\workspace\CBSviewer\src\main\java\nl\mineleni\openls\parser\OpenLSGeocodeResponseParser.java"/>
      <codefragment><![CDATA[			break;
		case "address":
			final Address address = new Address();
			this.objStack.push(address);
			for (int i = 0; i < attributes.getLength(); i++) {
				final String key = attributes.getQName(i);
				final String value = attributes.getValue(i);
				if (key.equalsIgnoreCase("countryCode")) {
					address.setCountryCode(value);
				}
			}
			break;
		case "streetaddress":
			this.objStack.push(new StreetAddress());
			break;
		case "building":
			final Building building = new Building();
			this.objStack.push(building);
			for (int i = 0; i < attributes.getLength(); i++) {
				final String key = attributes.getQName(i);
				final String value = attributes.getValue(i);
				if (key.equalsIgnoreCase("number")) {
					building.setNumber(value);
				}
			}
			break;
		case "street":
			this.objStack.push(new Street());
			break;
		case "place":
			final Place place = new Place();
			this.objStack.push(place);
			for (int i = 0; i < attributes.getLength(); i++) {
				final String key = attributes.getQName(i);
				final String value = attributes.getValue(i);
				if (key.equalsIgnoreCase("type")) {
					place.setType(value);
				}
			}
			break;
		case "postalcode":
			this.objStack.push(new PostalCode());
			break;
		default:
			return;
		}

	}
}]]></codefragment>
   </duplication>
   <duplication lines="25" tokens="160">
      <file line="147"
            path="E:\workspace\CBSviewer\src\main\java\nl\mineleni\openls\parser\OpenLSReverseGeocodeRequestParser.java"/>
      <file line="198"
            path="E:\workspace\CBSviewer\src\main\java\nl\mineleni\openls\parser\OpenLSReverseGeocodeResponseParser.java"/>
      <codefragment><![CDATA[			this.objStack.push(new Position());
			break;
		case "point":
			final Point point = new Point();
			for (int i = 0; i < attributes.getLength(); i++) {
				final String key = attributes.getQName(i);
				final String value = attributes.getValue(i);
				if (key.equalsIgnoreCase("srsName")) {
					point.setSrsName(value);
				}
			}
			this.objStack.push(point);
			break;
		case "pos":
			final Pos pos = new Pos();
			for (int i = 0; i < attributes.getLength(); i++) {
				final String key = attributes.getQName(i);
				final String value = attributes.getValue(i);
				if (key.equalsIgnoreCase("dimension")) {
					pos.setDimension(Integer.parseInt(value));
				}
			}
			this.objStack.push(pos);
			break;
		case "reversegeocodepreference":]]></codefragment>
   </duplication>
   <duplication lines="18" tokens="132">
      <file line="576"
            path="E:\workspace\CBSviewer\src\main\java\nl\mineleni\cbsviewer\servlet\wms\WMSClientServlet.java"/>
      <file line="646"
            path="E:\workspace\CBSviewer\src\main\java\nl\mineleni\cbsviewer\servlet\wms\WMSClientServlet.java"/>
      <codefragment><![CDATA[		for (int l = 0; l < layerNames.length; l++) {
			final String key = layerNames[l] + "::" + styleNames[l];
			if (this.legendCache.containsKey(key)) {
				// in de cache kijken of we deze legenda afbeelding nog
				// hebben
				final CacheImage cImg = this.legendCache.get(key);
				if (null != cImg) {
					// element zou verlopen kunnen zijn
					legends[l] = new File(cImg.getName());
					if (!legends[l].exists()) {
						// (mogelijk) is het bestand gewist..
						ImageIO.write(this.legendCache.get(key).getImage(),
						        "png", legends[l]);
					}
					LOGGER.debug("Legenda bestand uit cache: "
					        + legends[l].getAbsolutePath());
				}
			} else {]]></codefragment>
   </duplication>
   <duplication lines="13" tokens="122">
      <file line="77"
            path="E:\workspace\CBSviewer\src\main\java\nl\mineleni\openls\parser\OpenLSGeocodeResponseParser.java"/>
      <file line="72"
            path="E:\workspace\CBSviewer\src\main\java\nl\mineleni\openls\parser\OpenLSReverseGeocodeResponseParser.java"/>
      <codefragment><![CDATA[				((GeocodedAddress) (this.objStack.peek())).setPoint(point);
			}
			break;
		case "pos":
			final Pos pos = (Pos) (this.objStack.pop());
			pos.setXY(this.eValBuf.toString());
			if (this.objStack.peek().getClass() == Point.class) {
				((Point) (this.objStack.peek())).addPos(pos);
			}
			break;
		case "address":
			final Address address = (Address) (this.objStack.pop());
			if (this.objStack.peek().getClass() == GeocodedAddress.class) {]]></codefragment>
   </duplication>
</pmd-cpd>
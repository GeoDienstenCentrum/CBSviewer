<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.6 at 09-december-2014 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="nl" lang="nl">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>CBSviewer Webapp 1.2-SNAPSHOT &#x2013; Ontwikkel handleiding</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
      <meta name="author" content="mprins" />
    <meta name="Date-Revision-yyyymmdd" content="20141209" />
    <meta http-equiv="Content-Language" content="nl" />
                                                    
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon"/>
                                                        
<link rel="icon" href="favicon.ico" type="image/x-icon"/>
                                                        
<link rel="meta" href="http://mineleni.github.io/CBSviewer/doap_cbsviewer.rdf" title="DOAP" type="application/rdf+xml"/>
                      
        </head>
  <body class="composite">
    <div id="banner">
                        <a href="https://github.com/organizations/MinELenI" id="bannerLeft">
                                                <img src="images/logo.png" alt="Ministerie EZ" />
                </a>
                                            <a href="./" id="bannerRight">
                CBSviewer Webapp
                </a>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Meest recente publicatie: 09-december-2014</span>
                  &nbsp;| <span id="projectVersion">Versie: 1.2-SNAPSHOT</span>
                      </div>
            <div class="xright">                    <a href="https://github.com/MinELenI/CBSviewer/wiki" class="externalLink" title="Wiki">Wiki</a>
            |
                        <a href="http://gisdemo.agro.nl/jenkins/job/CBS-viewer/" class="externalLink" title="Jenkins dashboard">Jenkins dashboard</a>
            |
                        <a href="http://travis-ci.org/MinELenI/CBSviewer" class="externalLink" title="Travis CI dashboard">Travis CI dashboard</a>
            |
                        <a href="https://github.com/MinELenI/CBSviewer/issues/" class="externalLink" title="Issues dashboard">Issues dashboard</a>
              
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>Informatie</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Home">Home</a>
            </li>
                  <li class="none">
                          <a href="releasenotes.html" title="Release notes">Release notes</a>
            </li>
                                                                                <li class="expanded">
                          <a href="technischontwerp.html" title="Technisch ontwerp">Technisch ontwerp</a>
                    <ul>
                      <li class="none">
                          <a href="layermodel.html" title="Layer model">Layer model</a>
            </li>
                      <li class="none">
                          <a href="architectuur.html" title="Architectuur">Architectuur</a>
            </li>
              </ul>
        </li>
                  <li class="none">
            <strong>Ontwikkel handleiding</strong>
          </li>
                  <li class="none">
                          <a href="https://github.com/MinELenI/CBSviewer/wiki" class="externalLink" title="Wiki">Wiki</a>
            </li>
                  <li class="none">
                          <a href="maven-pdf-plugin.pdf" title="PDF documentatie">PDF documentatie</a>
            </li>
          </ul>
                       <h5>Installatie</h5>
                  <ul>
                  <li class="none">
                          <a href="installatiehandleiding.html" title="Installatie handleiding">Installatie handleiding</a>
            </li>
          </ul>
                       <h5>Deployments</h5>
                  <ul>
                  <li class="none">
                          <a href="http://gisdemo.agro.nl/cbsviewer/" class="externalLink" title="CI deployed webapp">CI deployed webapp</a>
            </li>
          </ul>
                       <h5>WCAG testing/tools</h5>
                  <ul>
                  <li class="none">
                          <a href="http://jigsaw.w3.org/css-validator/validator?uri=http%3A%2F%2Fgisdemo.agro.nl%2Fcbsviewer%2F&profile=css3&usermedium=all&warning=1&vextwarning=&lang=nl" class="externalLink" title="CSS 3 validatie">CSS 3 validatie</a>
            </li>
                  <li class="none">
                          <a href="http://jigsaw.w3.org/css-validator/validator?uri=http%3A%2F%2Fgisdemo.agro.nl%2Fcbsviewer%2F&profile=css21&usermedium=all&warning=1&vextwarning=&lang=nl" class="externalLink" title="CSS 2.1 validatie">CSS 2.1 validatie</a>
            </li>
                  <li class="none">
                          <a href="http://juicystudio.com/services/csstest.php" class="externalLink" title="Juicy Studio CSS Analyser">Juicy Studio CSS Analyser</a>
            </li>
                  <li class="none">
                          <a href="http://validator.w3.org/check?uri=http%3A%2F%2Fgisdemo.agro.nl%2Fcbsviewer%2F&charset=%28detect+automatically%29&doctype=Inline&group=0" class="externalLink" title="XHTML validatie">XHTML validatie</a>
            </li>
                  <li class="none">
                          <a href="http://html5.validator.nu/?doc=http%3A%2F%2Fgisdemo.agro.nl%2Fcbsviewer%2F&showimagereport=yes&showsource=yes" class="externalLink" title="(X)HTML 5 validatie">(X)HTML 5 validatie</a>
            </li>
                  <li class="none">
                          <a href="http://wave.webaim.org/report#/http%3A%2F%2Fgisdemo.agro.nl%2Fcbsviewer%2F" class="externalLink" title="WebAIM WCAG2 scan RIA">WebAIM WCAG2 scan RIA</a>
            </li>
                  <li class="none">
                          <a href="http://wave.webaim.org/report#/http%3A%2F%2Fgisdemo.agro.nl%2Fcbsviewer%2F%3Fcoreonly%3Dtrue" class="externalLink" title="WebAIM WCAG2 scan CORE">WebAIM WCAG2 scan CORE</a>
            </li>
                  <li class="none">
                          <a href="http://achecker.ca/checker/index.php" class="externalLink" title="AChecker">AChecker</a>
            </li>
                  <li class="none">
                          <a href="http://try.powermapper.com/Demo/SortSite" class="externalLink" title="Powermapper SortSite">Powermapper SortSite</a>
            </li>
                  <li class="none">
                          <a href="http://reporting.opquast.com/en/inspector/" class="externalLink" title="Opquast reporting">Opquast reporting</a>
            </li>
          </ul>
                       <h5>Links</h5>
                  <ul>
                  <li class="none">
                          <a href="https://github.com/MinELenI/CBSviewer/wiki" class="externalLink" title="Wiki">Wiki</a>
            </li>
                  <li class="none">
                          <a href="http://gisdemo.agro.nl/jenkins/job/CBS-viewer/" class="externalLink" title="Jenkins dashboard">Jenkins dashboard</a>
            </li>
                  <li class="none">
                          <a href="http://travis-ci.org/MinELenI/CBSviewer" class="externalLink" title="Travis CI dashboard">Travis CI dashboard</a>
            </li>
                  <li class="none">
                          <a href="https://github.com/MinELenI/CBSviewer/issues/" class="externalLink" title="Issues dashboard">Issues dashboard</a>
            </li>
                  <li class="none">
                          <a href="https://github.com/MinELenI/CBSviewer" class="externalLink" title="Broncode">Broncode</a>
            </li>
          </ul>
                       <h5>Project documentatie</h5>
                  <ul>
                                                                                                                                                                                                                                                                          <li class="collapsed">
                          <a href="project-info.html" title="Project informatie">Project informatie</a>
                  </li>
                                                                                                                                                                                                                                                                                                                                                                                                                          <li class="collapsed">
                          <a href="project-reports.html" title="Project rapporten">Project rapporten</a>
                  </li>
          </ul>
                       <h5>Andere Tests en rapporten</h5>
                  <ul>
                  <li class="none">
                          <a href="total-report.html" title="Saga testdekking">Saga testdekking</a>
            </li>
          </ul>
                       <h5>About Maven 3.0</h5>
                  <ul>
                  <li class="none">
                          <a href="faq.html" title="FAQ">FAQ</a>
            </li>
                  <li class="none">
                          <a href="http://maven.apache.org/run-maven/index.html" class="externalLink" title="Running maven">Running maven</a>
            </li>
                  <li class="none">
                          <a href="http://maven.apache.org/doxia/references/apt-format.html" class="externalLink" title="APT Format">APT Format</a>
            </li>
                  <li class="none">
                          <a href="http://daringfireball.net/projects/markdown/syntax" class="externalLink" title="MD Format">MD Format</a>
            </li>
          </ul>
                                                                                                                                     <a href="https://github.com/MinELenI/CBSviewer" title="Github" class="poweredBy">
        <img class="poweredBy"  alt="Github" src="images/github.png"     />
      </a>
                                                                                                                      <a href="http://www.geotools.org/" title="Geotools" class="poweredBy">
        <img class="poweredBy"  alt="Geotools" src="images/geotools.png"     />
      </a>
                                                                                                                      <a href="http://openlayers.org/two/" title="OpenLayers" class="poweredBy">
        <img class="poweredBy"  alt="OpenLayers" src="images/openlayers.png"     />
      </a>
                                                                                                                      <a href="http://staff.washington.edu/tft/a11ylogo/" title="Accessibility" class="poweredBy">
        <img class="poweredBy"  alt="Accessibility" src="images/a11ylogo150.png"     />
      </a>
                                                                                                                <a href="http://travis-ci.org/MinELenI/CBSviewer/" title="Travis build status (master branch)" class="poweredBy">
        <img class="poweredBy"  alt="Travis build status (master branch)" src="https://travis-ci.org/MinELenI/CBSviewer.svg?branch=master"     />
      </a>
                                                                                                                <a href="https://coveralls.io/r/MinELenI/CBSviewer?branch=master" title="Coverage Status" class="poweredBy">
        <img class="poweredBy"  alt="Coverage Status" src="https://coveralls.io/repos/MinELenI/CBSviewer/badge.png?branch=master"     />
      </a>
                                                                                                                <a href="https://scan.coverity.com/projects/1321" title="Coverity scan build status" class="poweredBy">
        <img class="poweredBy"  alt="Coverity scan build status" src="https://scan.coverity.com/projects/1321/badge.svg"     />
      </a>
                       
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <!-- http://maven.apache.org/doxia/references/apt-format.html --><div class="section">
<h2><a name="Ontwikkel_handleiding"></a>Ontwikkel handleiding</h2>
<ul>
<li><a href="#Broncode_ophalen">Broncode ophalen</a></li>
<li><a href="#Beginnen_met_bouwen">Beginnen met bouwen</a>
<ul>
<li><a href="#Java_8">Java 8</a></li>
<li><a href="#code_conventies_en_formatting">code conventies en formatting</a></li></ul></li>
<li><a href="#Unit_testen">Unit testen</a>
<ul>
<li><a href="#Java">Java</a></li>
<li><a href="#Javascript">Javascript</a></li></ul></li>
<li><a href="#Applicatie_testen">Applicatie testen </a></li>
<li><a href="#Documentatie_genereren">Documentatie genereren</a>
<ul>
<li><a href="#Documentatie_uploaden">Documentatie uploaden</a></li></ul></li>
<li><a href="#Externe_Informatie_en_links">Externe Informatie en links</a></li></ul>
<p>Dit project gebruikt <a class="externalLink" href="http://maven.apache.org/run-maven/index.html">Maven</a> als build tool en <a class="externalLink" href="https://github.com/MinELenI/CBSviewer">Github</a> voor broncode beheer.</p>
<dl>
<dt>PROXY</dt>
<dd>Een aantal van de maven commando's heeft internet toegang nodig, het kan zijn dat je hiervoor http of https proxy configuratie gegevens moet aangeven op de commando regel. 
<div class="source">
<pre>-Dhttp.proxyHost=&lt;host&gt; -Dhttp.proxyPort=&lt;poort&gt; -Dhttps.proxyHost=&lt;host&gt; -Dhttps.proxyPort=&lt;poort&gt;
</pre></div>
<p>bijvoorbeeld: <tt>mvn -Popenlayers -Dhttp.proxyHost=145.12.1.11 -Dhttp.proxyPort=8080 -Dhttps.proxyHost=145.12.1.11 -Dhttps.proxyPort=8080 site</tt> </p></dd></dl>
<div class="section">
<h3><a name="Broncode_ophalen">Broncode ophalen</a></h3>
<p>De broncode is opgeslagen in het Github systeem. De toegang is beschreven in het <a href="./source-repository.html">Source Repository</a> document.</p>
<div class="source">
<pre>  git clone https://github.com/MinELenI/CBSviewer.git C:\workspace\CBSviewer
</pre></div></div>
<div class="section">
<h3><a name="Beginnen_met_bouwen">Beginnen met bouwen</a></h3>
<p>Het project gebruikt Maven 3 als build tool, als IDE raden we Eclipse 4.2 aan omdat deze de beste Maven integratie heeft. Het project is opgezet als een <a class="externalLink" href="http://en.wikipedia.org/wiki/WAR_file_format_(Sun)">war</a> artifact. Voor het maken van een .war of release is alleen een juist geconfigureerde Maven installatie nodig.</p>
<p>Om de ontwikkelomgeving op te zetten is het nodig om een build van OpenLayers te maken, dit gaat met onderstaand commando:</p>
<div class="source">
<pre>mvn -Popenlayers,developer
</pre></div>
<p>Hiermee wordt een debug versie van OpenLayers in de broncode ondergebracht, een compacte versie voor de webapp en een volledige versie voor de unit tests. De OpenLayers build configuratie is vastgelegd in het bestand <tt>/OL-build.cfg</tt>.</p>
<p>Naast een Maven installatie zijn de volgende tools nodig:</p>
<dl>
<dt>Graphviz</dt>
<dd>te verkrijgen via <a class="externalLink" href="http://www.graphviz.org/Download.php">http://www.graphviz.org/Download.php</a></dd>
<dt>Python 2.7.x</dt>
<dd>te verkrijgen via <a class="externalLink" href="http://www.python.org/getit/">http://www.python.org/getit/</a></dd></dl>
<p>Deze tools dienen in het pad te worden opgenomen zodat ze vanuit de werkdirectory opgestart kunnen worden.</p>
<div class="section">
<h4><a name="Java_8"></a>Java 8</h4>
<p>Vanwege een aangescherpt beveiligingsmodel in Java 8 mislukt het genereren van de XML bindings met JAXB, om dit te omzeilen gebruik je een extra commandoregel/omgevings parameter:</p>
<div class="source">
<pre>-Djavax.xml.accessExternalSchema=file 
</pre></div></div>
<div class="section">
<h4><a name="code_conventies_en_formatting">code conventies en formatting</a></h4>
<p>Voor formatting van de Javascript code wordt het Eclipse profiel gebruikt zoals dat te vinden is in de <tt>ide/</tt> directory. Voor het generaren van de api documentatie wordt de jsdoc3 tool gebruikt, deze kent <a class="externalLink" href="http://usejsdoc.org/index.html#JSDoc3_Tag_Dictionary">een groot aantal tags</a>.</p>
<p>Voor formatting van de Java code wordt het Eclipse profiel gebruikt zoals dat te vinden is in de <tt>ide/</tt> directory.</p></div></div>
<div class="section">
<h3><a name="Unit_testen">Unit testen</a></h3>
<div class="section">
<h4><a name="Java"></a>Java</h4>
<p>Er wordt gebruik gemaakt van JUnit 4 tests, tests worden uitgevoerd als onderdeel van de normale bouw cyclus. Losse tests kunnen met onderstaand commando worden gedraaid:</p>
<div class="source">
<pre>mvn -Dtest=&lt;klassenaam&gt; test
</pre></div></div>
<div class="section">
<h4><a name="Javascript"></a>Javascript</h4>
<p>Er wordt gebruik gemaakt van het <a href="#Jasmine">http://pivotal.github.com/jasmine/</a> framework. De code voor een unit test gaat in <tt>/src/test/js/jasmine/</tt>. Tests worden automatisch gedraaid in een HtmlUnit en/of <a class="externalLink" href="http://phantomjs.org/download.html">PhantomJS</a> runtime tijdens de test fase van Maven.</p>
<p>Om unit tests met de hand te draaien zijn tijdens het ontwikkelen kan het <tt>jasmineserver</tt> profiel worden gebruikt.</p>
<div class="source">
<pre>mvn -Pjasmineserver jasmine:bdd
</pre></div>
<p>Start de tests op: <a class="externalLink" href="http://localhost:8234/">http://localhost:8234/</a>, de pagina kan worden geladen in een browser naar keuze.</p></div></div>
<div class="section">
<h3><a name="Applicatie_testen">Applicatie testen</a> </h3>
<p>De applicatie kan lokaal gebouwd en gerund worden met behulp van Jetty</p>
<div class="source">
<pre>mvn -Pdeveloper jetty:run
</pre></div>
<p>Jetty start een webserver op op poort 8021 met de <a class="externalLink" href="http://localhost:8021/">applicatie in de root</a>. Voor meer informatie over de Jetty runtime plugin: <a class="externalLink" href="http://wiki.eclipse.org/Jetty/Feature/Jetty_Maven_Plugin">Jetty Maven Plugin</a> in de Eclipse wiki.</p></div>
<div class="section">
<h3><a name="Documentatie_genereren">Documentatie genereren</a></h3>
<p>Met Maven kan een site worden gemaakt met het commando:</p>
<div class="source">
<pre>mvn site
</pre></div>
<p>Tijdens het maken van de site worden ook de unit en integratie tests gedraaid (er vindt dus een volledige build plaats!). Voor het genereren van de klasse diagrammen is een lokale installatie van <tt>dot</tt> en/of <tt>Graphviz</tt> nodig. </p>
<div class="section">
<h4><a name="Documentatie_uploaden">Documentatie uploaden</a></h4>
<p>De documentatie kan &quot;met de hand&quot; naar de Github website worden overgedragen, hiervoor is authenticatie nodig. Normaal gesproken zorgt de <a href="./integration.html">build server</a> voor het bijwerken van de online documentatie.</p>
<div class="source">
<pre>mvn site-deploy -Dgithub.username=&lt;login&gt; -Dgithub.password=&lt;passwd&gt;  
</pre></div>
<p>De website staat dan op: http://mineleni.github.io/CBSviewer/</p></div></div>
<div class="section">
<h3><a name="Externe_Informatie_en_links">Externe Informatie en links</a></h3>
<ul>
<li><a class="externalLink" href="http://help.github.com/">Algemene GitHub documentatie</a></li>
<li><a class="externalLink" href="http://help.github.com/send-pull-requests/">GitHub pull request documentatie</a></li></ul></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2012&#x2013;2014
                        <a href="https://github.com/organizations/MinELenI">Ministerie EZ</a>.
            All rights reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
